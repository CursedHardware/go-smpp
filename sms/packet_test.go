package sms

import (
	"bytes"
	"encoding/hex"
	"testing"

	"github.com/davecgh/go-spew/spew"
	"github.com/stretchr/testify/require"
)

var (
	pduDeliverGSM7Bit = "07919762020033F1040B919762995696F0000041606291401561046379180E"
	pduDeliverUCS2    = "07919761989901F0040B919762995696F000084160621263036178042D0442043E0442002004300431043E" +
		"043D0435043D0442002004370432043E043D0438043B002004320430043C0020003200200440043004370430002E002004" +
		"1F043E0441043B04350434043D043804390020002D002000200032003600200438044E043D044F00200432002000320031" +
		"003A00330035"
	pduDeliverUCS2WithAlphanumeric = "089158921000100930040ED0D376584E7DBBCB000871601002744523664F6066AB6642672" +
		"A75338ACB4F8696FB8F4999C1670D52D9002E002059826B3275338ACB6B64670D52D9002C8ACB6309002A0031003100310" +
		"02A00320031002A00310023625351FA002E0020670D52D98CBB003A0020002400310035002E00300030002F6708"
)

func TestDeliver(t *testing.T) {
	decoded, err := hex.DecodeString(pduDeliverUCS2WithAlphanumeric)
	require.NoError(t, err)
	deliver, err := ParseMessage(bytes.NewReader(decoded), MT)
	require.NoError(t, err)
	spew.Dump(deliver)
}
